@model ShoppingCart.Models.ProductViewModel

@{
    ViewBag.Title = "Details";
}

<h1>產品詳細資料</h1>
<div>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Discription)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Discription)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Price)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Price)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.PicturePath)
        </dt>

        <dd>
            <img src="@Html.DisplayFor(model => model.PicturePath)" class="img-responsive img-thumbnail" />
        </dd>

    </dl>
</div>
<p>
    @Html.ActionLink("返回列表", "Index")|
    <input type="button" id="BtnOrder" value="訂購" />
    <div>
        <label>
            訂購者
        </label><br />
    </div>
    <div>
        <input type="text" id="CustomerName" /><br />
    </div>
    <div>

        <label>
            送貨地址
        </label><br />
    </div>
    <div>
        <input type="text" id="Address" /><br />
    </div>

</p>
@section scripts{
    <script type="text/javascript">
        $(document).ready(function () {
            $("#BtnOrder").click(function () {
                $.ajax({
                    url: "../Order",
                    type: 'POST',
                    datatype: 'json',
                    data: { "id": @Model.Id, "customer": $("#CustomerName").val(), "Address": $("#Address").val() },
                    success: function () {
                        alert("下訂成功")
                    }
                    //,
                    //Error: function () {

                    //}
                })
            })

        })
    </script>
    }
